---
title: "Interactive Diagrams with ReactFlow"
description: "Explore interactive, accessible diagrams built with ReactFlow for visualizing architecture, workflows, and decision trees."
date: 2025-12-09
draft: true
series: "Features"
---

After migrating away from Mermaid, we've built a set of interactive diagrams using [ReactFlow](https://xyflow.com/) that provide better performance, accessibility, and customization. These diagrams are fully interactiveâ€”you can pan, zoom, and explore them freely.

## Why ReactFlow?

ReactFlow offers several advantages over Mermaid:

- **Performance**: Renders efficiently with thousands of nodes
- **Interactivity**: Users can pan, zoom, and manipulate the diagram
- **Accessibility**: Built with semantic HTML and ARIA labels
- **Customization**: Full control over styling and behavior
- **React Integration**: First-class support for React components within diagrams

## Available Diagram Presets

We've created several reusable diagram components that you can drop into any blog post or page:

### 1. MCP Architecture

The Model Context Protocol (MCP) architecture follows a three-tier client-server model:

<MCPArchitecture height={300} />

**Use this when:**
- Explaining multi-tier system architecture
- Showing communication protocols between systems
- Visualizing client-server relationships

```tsx
import { MCPArchitecture } from "@/components/common/diagram-presets";

export default function MyPage() {
  return <MCPArchitecture height={300} />;
}
```

### 2. Authentication Flow

This diagram shows a typical user authentication flow with decision points:

<AuthenticationFlow height={500} />

**Use this when:**
- Explaining authentication workflows
- Showing valid vs. invalid paths
- Visualizing multi-step login processes
- Documenting API authentication flows

```tsx
import { AuthenticationFlow } from "@/components/common/diagram-presets";

export default function MyPage() {
  return <AuthenticationFlow height={500} />;
}
```

### 3. MDX Processing Pipeline

This diagram illustrates how markdown files are transformed into rendered HTML through multiple processing stages:

<PipelineFlow height={600} />

**Use this when:**
- Explaining content processing pipelines
- Showing multi-stage transformations
- Visualizing data flow through systems
- Documenting build processes

The six stages are:

1. **Start: Markdown Post** - Raw `.mdx` file
2. **Process with Remark** - Parse markdown syntax
3. **Transform with Rehype** - HTML transformations
4. **Syntax Highlight with Shiki** - Code block highlighting
5. **Render as React Component** - MDX compilation
6. **Display in Browser** - Final rendered output

```tsx
import { PipelineFlow } from "@/components/common/diagram-presets";

export default function MyPage() {
  return <PipelineFlow height={600} />;
}
```

### 4. CVE Decision Tree

This vulnerability assessment decision tree helps readers quickly determine if they're affected by a specific CVE:

<CVEDecisionTree height={400} />

**Use this when:**
- Documenting security vulnerabilities
- Helping users assess impact
- Creating decision trees for complex conditions
- Explaining version-specific issues

The tree guides users through a series of questions to determine their vulnerability status:

```tsx
import { CVEDecisionTree } from "@/components/common/diagram-presets";

export default function SecurityPost() {
  return (
    <>
      <h3>Am I Affected?</h3>
      <CVEDecisionTree height={400} />
    </>
  );
}
```

## Customization

All diagram presets accept the same props for customization:

```tsx
interface DiagramPresetProps {
  showControls?: boolean;  // Show pan/zoom controls (default: true)
  height?: number | string;  // Diagram height (default: varies)
  className?: string;  // Additional CSS classes
}
```

**Examples:**

```tsx
// Full height diagram with controls
<MCPArchitecture height="100%" showControls={true} />

// Compact diagram without controls
<AuthenticationFlow height={300} showControls={false} />

// With custom styling
<PipelineFlow
  height={500}
  className="rounded-lg border border-border"
/>
```

## Creating Custom Diagrams

If you need a custom diagram, use the base `InteractiveDiagram` component directly:

```tsx
import { InteractiveDiagram } from "@/components/common/interactive-diagram";
import { type Node, type Edge } from "@xyflow/react";

const nodes: Node[] = [
  { id: '1', position: { x: 0, y: 0 }, data: { label: 'Start' } },
  { id: '2', position: { x: 250, y: 0 }, data: { label: 'Process' } },
  { id: '3', position: { x: 500, y: 0 }, data: { label: 'End' } },
];

const edges: Edge[] = [
  { id: 'e1-2', source: '1', target: '2' },
  { id: 'e2-3', source: '2', target: '3' },
];

export function CustomDiagram() {
  return (
    <InteractiveDiagram
      nodes={nodes}
      edges={edges}
      title="My Custom Flow"
      height={400}
    />
  );
}
```

## Performance Notes

- Diagrams are **client-side rendered** using React hooks
- Use `showControls={false}` for read-only diagrams to reduce bundle impact
- Each diagram is lightweight (< 5KB gzipped)
- Animations are GPU-accelerated for smooth performance

## Accessibility

All diagrams include:

- Semantic HTML structure
- ARIA labels for nodes and edges
- Keyboard navigation support
- Sufficient color contrast

---

**Next Steps:** Try using these diagrams in your own blog posts! Check the `src/components/common/diagram-presets.tsx` file to see how they're implemented and create your own custom diagrams.
