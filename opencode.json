{
  "$schema": "https://opencode.ai/config.json",
  "version": "2.0.0",
  "project": "dcyfr-labs",
  "description": "OpenCode configuration for DCYFR portfolio with MCP integration and DCYFR-specific skills",

  "mcp": {
    "memory": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-memory"],
      "enabled": true,
      "timeout": 5000
    },
    "filesystem": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-filesystem", "${workspaceFolder}"],
      "enabled": true,
      "timeout": 5000
    },
    "github": {
      "type": "remote",
      "url": "https://api.githubcopilot.com/mcp/",
      "enabled": true,
      "timeout": 10000
    },
    "context7": {
      "type": "remote",
      "url": "https://mcp.context7.com/mcp",
      "enabled": true,
      "timeout": 5000
    },
    "octocode": {
      "type": "local",
      "command": ["npx", "octocode-mcp@latest"],
      "enabled": true,
      "timeout": 5000
    },
    "perplexity": {
      "type": "local",
      "command": ["npx", "-y", "@perplexity-ai/mcp-server"],
      "enabled": true,
      "environment": {
        "PERPLEXITY_API_KEY": "{env:PERPLEXITY_API_KEY}"
      },
      "timeout": 5000
    },
    "vercel": {
      "type": "remote",
      "url": "https://mcp.vercel.com",
      "enabled": true,
      "timeout": 5000
    },
    "sentry": {
      "type": "remote",
      "url": "https://mcp.sentry.dev/mcp/dcyfr-labs/dcyfr-labs",
      "enabled": true,
      "oauth": {},
      "timeout": 5000
    },
    "axiom": {
      "type": "local",
      "command": ["npx", "-y", "mcp-remote", "https://mcp.axiom.co/mcp"],
      "enabled": true,
      "timeout": 5000
    },
    "dcyfr_analytics": {
      "type": "local",
      "command": ["npm", "run", "mcp:analytics"],
      "cwd": "${workspaceFolder}",
      "enabled": true,
      "environment": {
        "UPSTASH_REDIS_REST_URL": "{env:UPSTASH_REDIS_REST_URL}",
        "UPSTASH_REDIS_REST_TOKEN": "{env:UPSTASH_REDIS_REST_TOKEN}"
      },
      "timeout": 5000
    },
    "dcyfr_tokens": {
      "type": "local",
      "command": ["npm", "run", "mcp:tokens"],
      "cwd": "${workspaceFolder}",
      "enabled": true,
      "timeout": 5000
    },
    "dcyfr_content": {
      "type": "local",
      "command": ["npm", "run", "mcp:content"],
      "cwd": "${workspaceFolder}",
      "enabled": true,
      "timeout": 5000
    },
    "deepgraph_nextjs": {
      "type": "local",
      "command": ["npx", "-y", "mcp-code-graph@latest", "vercel/next.js"],
      "enabled": false,
      "timeout": 10000
    },
    "deepgraph_typescript": {
      "type": "local",
      "command": ["npx", "-y", "mcp-code-graph@latest", "microsoft/TypeScript"],
      "enabled": false,
      "timeout": 10000
    },
    "playwright": {
      "type": "local",
      "command": ["npx", "-y", "@executeautomation/playwright-mcp-server"],
      "enabled": false,
      "timeout": 5000
    },
    "chrome_devtools": {
      "type": "local",
      "command": ["npx", "-y", "chrome-devtools-mcp@latest"],
      "enabled": false,
      "timeout": 5000
    },
    "arxiv": {
      "type": "local",
      "command": ["uvx", "arxiv-mcp-server"],
      "enabled": false,
      "timeout": 5000
    }
  },

  "tools": {
    "*": true,
    "memory_*": true,
    "filesystem_*": true,
    "github_*": false,
    "context7_*": true,
    "octocode_*": true,
    "perplexity_*": true,
    "vercel_*": true,
    "sentry_*": false,
    "axiom_*": false,
    "dcyfr_analytics_*": true,
    "dcyfr_tokens_*": true,
    "dcyfr_content_*": true,
    "deepgraph_nextjs_*": false,
    "deepgraph_typescript_*": false,
    "playwright_*": false,
    "chrome_devtools_*": false,
    "arxiv_*": false
  },

  "agent": {
    "default": {
      "tools": {
        "*": true,
        "github_*": false,
        "sentry_*": false,
        "axiom_*": false
      },
      "permission": {
        "skill": {
          "*": "allow",
          "dcyfr-*": "allow",
          "experimental-*": "ask"
        }
      }
    },
    "dcyfr-feature": {
      "tools": {
        "*": true,
        "dcyfr_tokens_*": true,
        "dcyfr_content_*": true,
        "filesystem_*": true,
        "memory_*": true
      },
      "permission": {
        "skill": {
          "dcyfr-*": "allow"
        }
      }
    },
    "dcyfr-quick": {
      "tools": {
        "*": true,
        "dcyfr_tokens_*": true,
        "filesystem_*": true
      },
      "permission": {
        "skill": {
          "dcyfr-quick-fix": "allow"
        }
      }
    }
  },

  "formatters": {
    "typescript": "prettier",
    "typescriptreact": "prettier",
    "javascript": "prettier",
    "javascriptreact": "prettier",
    "json": "prettier",
    "markdown": "prettier"
  }
}
